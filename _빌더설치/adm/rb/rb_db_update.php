<?php
/**
 * Obfuscated by Rebuilder
 * Website: https://rebuilder.co.kr
 */
 goto lW1iY; Az_F3: $db_upgrade_msg = ''; goto uM2NK; mKogK: function upgrade_database($schema) { $is_upgrade = false; foreach ($schema["\164\141\x62\x6c\x65\x73"] as $table => $info) { $columns = $info["\143\x6f\x6c\x75\155\156\x73"]; $table = sql_real_escape_string($table); $result = sql_query("\123\110\117\x57\40\124\101\x42\x4c\x45\123\x20\x4c\x49\x4b\x45\40\47{$table}\x27"); if (mysqli_num_rows($result) == 0) { $column_defs = array(); foreach ($columns as $col => $def) { $col = sql_real_escape_string($col); $def = sql_real_escape_string($def); $column_defs[] = "\140{$col}\140\40{$def}"; } if (isset($info["\x70\x72\x69\155\141\162\x79\137\153\145\x79"])) { $primary_key = sql_real_escape_string($info["\160\x72\x69\155\x61\x72\171\x5f\153\145\171"]); $column_defs[] = "\x50\x52\x49\x4d\101\122\131\x20\x4b\105\x59\x20\50\140{$primary_key}\x60\x29"; } $create = "\103\122\105\101\x54\105\40\124\101\102\114\x45\40\140{$table}\x60\40\50" . implode("\x2c\x20", $column_defs) . "\x29"; $create_result = sql_query($create); if (!$create_result) { return "\133{$table}\x5d\x20\355\205\214\354\x9d\xb4\353\270\x94\40\354\x83\235\xec\x84\261\x20\xec\213\244\xed\214\250\72\40" . mysqli_error($GLOBALS["\x67\65"]["\x63\157\156\x6e\145\x63\164\137\x64\142"]); } $is_upgrade = true; } else { $add_columns = array(); foreach ($columns as $col => $def) { $col = sql_real_escape_string($col); $col_exists = sql_query("\123\110\x4f\x57\40\103\x4f\114\x55\115\116\x53\x20\106\122\x4f\115\x20\140{$table}\x60\x20\x4c\x49\113\x45\40\x27{$col}\x27"); if ($col_exists === false) { return "\x5b{$table}\x5d\x20\355\x85\214\354\x9d\xb4\xeb\xb8\224\xec\x9d\x98\x20\133{$col}\135\x20\354\273\254\353\237\274\40\xed\231\225\xec\235\270\40\354\x8b\244\xed\x8c\xa8\72\40" . mysqli_error($GLOBALS["\147\x35"]["\x63\x6f\x6e\156\x65\143\164\x5f\144\x62"]); } if (mysqli_num_rows($col_exists) == 0) { $def = sql_real_escape_string($def); $add_columns[] = "\101\104\x44\x20\x60{$col}\140\40{$def}"; } } if (!empty($add_columns)) { $alter = "\x41\x4c\124\105\122\40\124\101\102\x4c\105\40\140{$table}\140\x20" . implode("\x2c\40", $add_columns); $alter_result = sql_query($alter); if (!$alter_result) { return "\x5b{$table}\x5d\x20\xec\xbb\xac\xeb\237\xbc\x20\354\xb6\224\352\xb0\200\x20\354\213\xa4\355\x8c\xa8\72\x20" . mysqli_error($GLOBALS["\x67\x35"]["\x63\x6f\156\156\145\143\x74\137\x64\142"]); } $is_upgrade = true; } } } return $is_upgrade ? "\x44\x42\40\354\x97\205\352\267\xb8\353\240\210\354\235\264\xeb\223\234\xea\xb0\200\40\xec\231\x84\353\243\214\xeb\220\x98\354\x97\210\354\212\265\353\x8b\x88\xeb\x8b\xa4\56" : "\xeb\x8d\224\40\xec\x9d\xb4\xec\203\201\x20\xec\x97\205\xea\267\xb8\353\xa0\x88\xec\235\xb4\xeb\x93\234\40\xed\x95\240\40\xeb\x82\xb4\354\x9a\xa9\354\x9d\xb4\x20\xec\x97\x86\xec\x8a\xb5\353\x8b\210\353\x8b\xa4\x2e\74\x62\162\76\xed\230\x84\354\236\xac\40\104\x42\x20\xec\x97\205\xea\xb7\270\353\240\210\354\235\xb4\353\x93\x9c\352\xb0\200\x20\xec\231\204\353\243\x8c\xeb\220\x9c\40\xec\x83\201\355\x83\x9c\354\236\x85\353\213\x88\xeb\213\244\x2e"; } goto rLM1d; NHKGw: if ($is_admin != "\163\x75\x70\145\x72" && $w == '') { alert("\354\265\x9c\xea\xb3\xa0\xea\264\200\353\246\xac\xec\236\x90\xeb\247\x8c\x20\xec\xa0\x91\352\267\274\40\xea\260\x80\xeb\212\xa5\355\225\xa9\353\213\x88\353\213\244\x2e"); } goto LiPjy; DR7nc: include_once "\x2e\x2e\57\141\144\155\x69\x6e\x2e\150\145\x61\x64\56\x70\150\160"; goto QNcPc; QNcPc: $key_info = get_license_key(); goto Az_F3; LiPjy: function check_and_create_key_table() { $table_key = sql_query("\104\105\x53\103\122\111\102\105\40\162\142\x5f\x6b\x65\x79", false); if (!$table_key) { sql_query("\x43\122\x45\101\x54\x45\40\x54\x41\102\114\x45\40\111\x46\40\x4e\117\124\40\x45\x58\x49\x53\124\x53\x20\x60\x72\142\x5f\x6b\145\x79\140\40\50\xa\40\x20\40\40\x20\x20\x20\x20\x20\x20\x20\x20\140\153\x65\171\137\x6e\157\x60\40\x76\x61\162\143\x68\x61\162\50\62\65\x35\51\x20\116\x4f\124\40\x4e\125\x4c\x4c\40\x44\105\x46\x41\x55\x4c\124\40\x27\x27\54\12\40\40\x20\x20\x20\x20\x20\x20\x20\40\x20\40\x60\153\145\x79\137\144\141\164\x65\164\151\x6d\x65\140\40\x64\141\x74\x65\164\151\155\145\x20\116\117\x54\40\x4e\x55\x4c\114\40\x44\x45\106\x41\x55\x4c\124\x20\x27\x30\60\60\60\x2d\60\60\x2d\x30\60\40\60\60\x3a\x30\60\x3a\x30\x30\x27\12\40\40\40\40\40\x20\40\40\51\x20\x45\x4e\107\111\x4e\x45\x3d\x4d\x79\x49\123\101\x4d\x20\x44\x45\106\101\x55\114\124\40\103\x48\x41\x52\x53\105\124\x3d\x75\x74\x66\70", true); $in_key = get_random_token_string(24); $in_key = sql_real_escape_string($in_key); $sql_key = "\x49\x4e\123\x45\x52\124\x20\111\x4e\124\117\40\x72\x62\137\x6b\x65\171\x20\xa\x20\40\x20\40\x20\40\40\40\x20\40\40\40\x20\x20\40\x20\40\40\x20\x20\x53\105\124\x20\x6b\x65\171\x5f\156\x6f\40\x3d\x20\x27{$in_key}\47\54\xa\40\x20\40\x20\x20\x20\x20\40\40\40\x20\40\x20\40\x20\40\x20\x20\40\x20\x20\40\40\40\153\x65\x79\137\x64\x61\164\145\x74\x69\x6d\145\x20\x3d\40\x27" . G5_TIME_YMDHIS . "\x27"; sql_query($sql_key); } } goto SdHDK; uM2NK: if (!is_array($key_info)) { $db_upgrade_msg = $key_info; } else { $in_key = $key_info["\153\x65\171\x5f\x6e\x6f"]; $key_cnt = $key_info["\x63\x6f\x75\156\164"]; if ($key_cnt < 1) { $db_upgrade_msg = "\353\235\274\xec\235\264\xec\204\240\xec\212\244\xed\202\244\xeb\245\xbc\40\xec\260\xbe\354\x9d\204\40\xec\x88\x98\x20\xec\x97\x86\xec\x8a\265\353\213\210\xeb\x8b\244\x2e"; } else { $site_domain = $_SERVER["\x48\124\124\x50\137\x48\117\123\124"]; $user_ip = get_real_client_ip(); $response_data = verify_license($in_key, $site_domain, $user_ip); if (empty($response_data["\x64\x61\164\141"])) { $db_upgrade_msg = $response_data; } else { $schema = $response_data["\x64\x61\164\141"]["\x73\x63\x68\x65\155\141"]; $db_upgrade_msg = upgrade_database($schema); } } } goto is5WQ; r5kKU: echo $db_upgrade_msg; goto IpCzB; is5WQ: ?>

<div class="local_desc01 local_desc">
    <p><?php  goto r5kKU; SdHDK: function get_license_key() { check_and_create_key_table(); $key_info = sql_fetch("\123\105\114\x45\103\x54\40\153\x65\171\137\x6e\x6f\40\x46\122\x4f\115\40\x72\142\x5f\x6b\145\x79\x20\x4c\x49\x4d\x49\124\x20\x31"); $tmp = sql_fetch("\123\105\x4c\105\x43\124\x20\x43\117\125\x4e\124\50\52\51\40\141\x73\x20\143\x6e\164\40\106\122\117\x4d\40\x72\142\x5f\x6b\x65\x79"); $key_cnt = isset($tmp["\143\x6e\164"]) ? (int) $tmp["\x63\x6e\164"] : 0; if ($key_cnt < 1) { return "\xeb\x9d\274\354\235\264\xec\x84\240\354\x8a\xa4\355\x82\244\353\xa5\xbc\40\xec\260\276\xec\235\x84\x20\354\210\230\x20\354\x97\206\354\x8a\265\xeb\213\210\353\x8b\244\x2e"; } return array("\153\x65\171\x5f\156\x6f" => $key_info["\153\x65\x79\x5f\156\x6f"], "\x63\x6f\165\x6e\x74" => $key_cnt); } goto iPMQs; H57RU: auth_check_menu($auth, $sub_menu, "\x77"); goto NHKGw; IpCzB: ?>
</p>
</div>

<?php  goto C0DYa; iPMQs: function verify_license($key, $domain, $ip) { if (!function_exists("\143\x75\162\154\137\x69\156\x69\x74")) { return "\143\125\x52\x4c\xec\x9d\x84\x20\354\x82\xac\354\232\251\355\225\240\x20\354\210\230\x20\354\x97\x86\xeb\x8a\224\x20\xec\x84\x9c\353\262\204\x20\354\x9e\205\353\213\210\353\x8b\244\x2e\40\xec\x84\x9c\353\xb2\x84\355\232\214\xec\202\xac\xec\227\x90\x20\353\254\xb8\354\x9d\x98\355\225\230\354\x84\270\xec\x9a\224\56"; } if (!filter_var($ip, FILTER_VALIDATE_IP)) { $ip = "\60\56\x30\x2e\x30\56\60"; } $ch = curl_init(); $api_endpoint = "\150\x74\164\160\x73\72\x2f\x2f\141\160\x69\x2e\162\x65\x62\x75\151\154\x64\x65\162\56\x63\157\x2e\153\162\x2f\x75\x70\x64\141\164\x65\x2f"; $post_data = array("\144\x6f\155\x61\151\x6e" => filter_var($domain, FILTER_SANITIZE_URL), "\153\145\x79" => filter_var($key, FILTER_SANITIZE_STRING), "\165\163\x65\162\137\x69\x70" => $ip); curl_setopt_array($ch, array(CURLOPT_URL => $api_endpoint, CURLOPT_POST => true, CURLOPT_POSTFIELDS => http_build_query($post_data), CURLOPT_USERAGENT => "\x4d\x6f\172\x69\154\x6c\141\x2f\x35\56\60\40\53\x72\x65\x62\165\x69\154\x64\145\x72\x2e\143\157\x2e\153\x72", CURLOPT_RETURNTRANSFER => true, CURLOPT_FOLLOWLOCATION => true, CURLOPT_SSL_VERIFYHOST => 0, CURLOPT_SSL_VERIFYPEER => 0, CURLOPT_TIMEOUT => 30)); $response = curl_exec($ch); if (curl_errno($ch)) { $error_msg = curl_error($ch); curl_close($ch); return "\354\x97\205\353\x8d\260\354\x9d\xb4\xed\x8a\xb8\40\354\204\x9c\353\xb2\x84\40\xec\227\xb0\352\262\xb0\x20\xec\227\x90\353\x9f\xac\x3a\40" . $error_msg; } curl_close($ch); if ($response === false) { return "\354\x97\x85\xeb\x8d\xb0\xec\235\264\355\212\270\40\354\204\x9c\353\xb2\x84\354\x97\x90\40\xec\235\x91\xeb\x8b\xb5\354\235\xb4\x20\xec\x97\206\354\212\265\353\x8b\x88\xeb\x8b\244\56"; } $data = json_decode($response, true); if (json_last_error() !== JSON_ERROR_NONE || !isset($data["\163\164\x61\164\165\163"])) { return "\xec\x97\205\xeb\x8d\xb0\xec\235\264\xed\212\270\x20\354\204\x9c\xeb\262\x84\xec\x9d\230\40\xec\x9d\x91\353\x8b\265\40\xed\230\225\xec\x8b\235\354\227\x90\40\353\xac\xb8\354\xa0\x9c\xea\xb0\200\40\354\236\x88\xec\212\xb5\353\213\x88\xeb\x8b\xa4\56"; } if (!empty($data["\x73\x74\x61\164\165\163"]) && $data["\163\164\x61\x74\x75\163"] === "\x65\x72\162\157\x72") { return "\354\227\x85\353\215\xb0\xec\235\264\xed\x8a\xb8\40\354\x84\234\xeb\262\x84\40\354\235\x91\xeb\x8b\265\x3a\40" . $data["\144\141\164\141"]; } if (empty($data["\x64\x61\x74\x61"]["\163\143\x68\x65\x6d\x61"]["\x74\x61\x62\x6c\145\163"])) { return "\355\x85\214\xec\235\xb4\353\xb8\224\x20\xec\212\244\xed\202\244\353\xa7\x88\40\354\240\x95\xeb\xb3\xb4\352\xb0\200\x20\354\x97\206\354\x8a\265\353\x8b\x88\353\213\xa4\56"; } return $data; } goto mKogK; GMqqI: include_once "\56\x2f\137\x63\x6f\155\155\x6f\156\x2e\x70\150\x70"; goto H57RU; lW1iY: $sub_menu = "\x30\x30\x30\60\60\60"; goto GMqqI; rLM1d: $g5["\x74\x69\x74\x6c\x65"] = "\x44\102\40\xec\227\x85\352\xb7\xb8\xeb\240\210\354\x9d\264\353\223\234"; goto DR7nc; C0DYa: include_once "\x2e\56\x2f\141\x64\x6d\151\x6e\x2e\x74\141\x69\x6c\56\160\x68\x70";
